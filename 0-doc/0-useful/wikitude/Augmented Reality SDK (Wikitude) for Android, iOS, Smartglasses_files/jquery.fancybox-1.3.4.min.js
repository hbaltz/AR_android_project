(function(B){var L,T,Q,M,d,m,J,A,O,z,V,C=0,H={},j=[],e=0,G={},y=[],f=null,o=new Image(),i=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,k=/[^\.]\.(swf)\s*$/i,p,N=1,h=0,t="",b,c,P=false,s=B.extend(B("<div/>")[0],{prop:0}),S=navigator.userAgent.match(/msie [6]/i)&&!window.XMLHttpRequest,r=function(){T.hide();o.onerror=o.onload=null;if(f){f.abort()}L.empty()},x=function(){if(false===H.onError(j,C,H)){T.hide();P=false;return}H.titleShow=false;H.width="auto";H.height="auto";L.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');n()},w=function(){var aa=j[C],X,Z,ac,ab,W,Y;r();H=B.extend({},B.fn.fancybox.defaults,(typeof B(aa).data("fancybox")=="undefined"?H:B(aa).data("fancybox")));Y=H.onStart(j,C,H);if(Y===false){P=false;return}else{if(typeof Y=="object"){H=B.extend(H,Y)}}ac=H.title||(aa.nodeName?B(aa).attr("title"):aa.title)||"";if(aa.nodeName&&!H.orig){H.orig=B(aa).children("img:first").length?B(aa).children("img:first"):B(aa)}if(ac===""&&H.orig&&H.titleFromAlt){ac=H.orig.attr("alt")}X=H.href||(aa.nodeName?B(aa).attr("href"):aa.href)||null;if((/^(?:javascript)/i).test(X)||X=="#"){X=null}if(H.type){Z=H.type;if(!X){X=H.content}}else{if(H.content){Z="html"}else{if(X){if(X.match(i)){Z="image"}else{if(X.match(k)){Z="swf"}else{if(B(aa).hasClass("iframe")){Z="iframe"}else{if(X.indexOf("#")===0){Z="inline"}else{Z="ajax"}}}}}}}if(!Z){x();return}if(Z=="inline"){aa=X.substr(X.indexOf("#"));Z=B(aa).length>0?"inline":"ajax"}H.type=Z;H.href=X;H.title=ac;if(H.autoDimensions){if(H.type=="html"||H.type=="inline"||H.type=="ajax"){H.width="auto";H.height="auto"}else{H.autoDimensions=false}}if(H.modal){H.overlayShow=true;H.hideOnOverlayClick=false;H.hideOnContentClick=false;H.enableEscapeButton=false;H.showCloseButton=false}H.padding=parseInt(H.padding,10);H.margin=parseInt(H.margin,10);L.css("padding",(H.padding+H.margin));B(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){B(this).replaceWith(m.children())});switch(Z){case"html":L.html(H.content);n();break;case"inline":if(B(aa).parent().is("#fancybox-content")===true){P=false;return}V=B(aa).parent();B('<div class="fancybox-inline-tmp" />').hide().insertBefore(B(aa)).bind("fancybox-cleanup",function(){B(this).replaceWith(m.children())}).bind("fancybox-cancel",function(){B(this).replaceWith(L.children())});B(aa).appendTo(L);n();break;case"image":P=false;B.fancybox.showActivity();o=new Image();o.onerror=function(){x()};o.onload=function(){P=true;o.onerror=o.onload=null;F()};o.src=X;break;case"swf":H.scrolling="no";ab='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+H.width+'" height="'+H.height+'"><param name="movie" value="'+X+'"></param>';W="";B.each(H.swf,function(ad,ae){ab+='<param name="'+ad+'" value="'+ae+'"></param>';W+=" "+ad+'="'+ae+'"'});ab+='<embed src="'+X+'" type="application/x-shockwave-flash" width="'+H.width+'" height="'+H.height+'"'+W+"></embed></object>";L.html(ab);n();break;case"ajax":P=false;B.fancybox.showActivity();H.ajax.win=H.ajax.success;f=B.ajax(B.extend({},H.ajax,{url:X,data:H.ajax.data||{},error:function(ad,af,ae){if(ad.status>0){x()}},success:function(ae,ag,ad){var af=typeof ad=="object"?ad:f;if(af.status==200){if(typeof H.ajax.win=="function"){Y=H.ajax.win(X,ae,ag,ad);if(Y===false){T.hide();return}else{if(typeof Y=="string"||typeof Y=="object"){ae=Y}}}L.html(ae);n()}}}));break;case"iframe":E();break}},n=function(){var W=H.width,X=H.height;if(W.toString().indexOf("%")>-1){W=parseInt((B(window).width()-(H.margin*2))*parseFloat(W)/100,10)+"px"}else{W=W=="auto"?"auto":W+"px"}if(X.toString().indexOf("%")>-1){X=parseInt((B(window).height()-(H.margin*2))*parseFloat(X)/100,10)+"px"}else{X=X=="auto"?"auto":X+"px"}L.wrapInner('<div style="width:'+W+";height:"+X+";overflow: "+(H.scrolling=="auto"?"auto":(H.scrolling=="yes"?"scroll":"hidden"))+';position:relative;"></div>');H.width=L.width();H.height=L.height();E()},F=function(){H.width=o.width;H.height=o.height;B("<img />").attr({id:"fancybox-img",src:o.src,alt:H.title}).appendTo(L);E()},E=function(){var X,W;T.hide();if(M.is(":visible")&&false===G.onCleanup(y,e,G)){B.event.trigger("fancybox-cancel");P=false;return}P=true;B(m.add(Q)).unbind();B(window).unbind("resize.fb scroll.fb");B(document).unbind("keydown.fb");if(M.is(":visible")&&G.titlePosition!=="outside"){M.css("height",M.height())}y=j;e=C;G=H;if(G.overlayShow){Q.css({"background-color":G.overlayColor,opacity:G.overlayOpacity,cursor:G.hideOnOverlayClick?"pointer":"auto",height:B(document).height(),width:B(document).width()});if(!Q.is(":visible")){if(S){B("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"})}Q.show()}}else{Q.hide()}c=R();l();if(M.is(":visible")){B(J.add(O).add(z)).hide();X=M.position(),b={top:X.top,left:X.left,width:M.width(),height:M.height()};W=(b.width==c.width&&b.height==c.height);m.fadeTo(G.changeFade,0.3,function(){var Y=function(){m.html(L.contents()).fadeTo(G.changeFade,1,v)};B.event.trigger("fancybox-change");m.empty().removeAttr("filter").css({"border-width":G.padding,width:c.width-G.padding*2,height:H.autoDimensions?"auto":c.height-h-G.padding*2});if(W){Y()}else{s.prop=0;B(s).animate({prop:1},{duration:G.changeSpeed,easing:G.easingChange,step:U,complete:Y})}});return}M.removeAttr("style");m.css("border-width",G.padding);if(G.transitionIn=="elastic"){b=I();m.html(L.contents());M.show();if(G.opacity){c.opacity=0}s.prop=0;B(s).animate({prop:1},{duration:G.speedIn,easing:G.easingIn,step:U,complete:v});return}if(G.titlePosition=="inside"&&h>0){A.show()}m.css({width:c.width-G.padding*2,height:H.autoDimensions?"auto":c.height-h-G.padding*2}).html(L.contents());M.css(c).fadeIn(G.transitionIn=="none"?0:G.speedIn,v)},D=function(W){if(W&&W.length){if(G.titlePosition=="float"){return'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+W+'</td><td id="fancybox-title-float-right"></td></tr></table>'}return'<div id="fancybox-title-'+G.titlePosition+'">'+W+"</div>"}return false},l=function(){t=G.title||"";h=0;A.empty().removeAttr("style").removeClass();if(G.titleShow===false){A.hide();return}t=B.isFunction(G.titleFormat)?G.titleFormat(t,y,e,G):D(t);if(!t||t===""){A.hide();return}A.addClass("fancybox-title-"+G.titlePosition).html(t).appendTo("body").show();switch(G.titlePosition){case"inside":A.css({width:c.width-(G.padding*2),marginLeft:G.padding,marginRight:G.padding});h=A.outerHeight(true);A.appendTo(d);c.height+=h;break;case"over":A.css({marginLeft:G.padding,width:c.width-(G.padding*2),bottom:G.padding}).appendTo(d);break;case"float":A.css("left",parseInt((A.width()-c.width-40)/2,10)*-1).appendTo(M);break;default:A.css({width:c.width-(G.padding*2),paddingLeft:G.padding,paddingRight:G.padding}).appendTo(M);break}A.hide()},g=function(){if(G.enableEscapeButton||G.enableKeyboardNav){B(document).bind("keydown.fb",function(W){if(W.keyCode==27&&G.enableEscapeButton){W.preventDefault();B.fancybox.close()}else{if((W.keyCode==37||W.keyCode==39)&&G.enableKeyboardNav&&W.target.tagName!=="INPUT"&&W.target.tagName!=="TEXTAREA"&&W.target.tagName!=="SELECT"){W.preventDefault();B.fancybox[W.keyCode==37?"prev":"next"]()}}})}if(!G.showNavArrows){O.hide();z.hide();return}if((G.cyclic&&y.length>1)||e!==0){O.show()}if((G.cyclic&&y.length>1)||e!=(y.length-1)){z.show()}},v=function(){if(!B.support.opacity){m.get(0).style.removeAttribute("filter");M.get(0).style.removeAttribute("filter")}if(H.autoDimensions){m.css("height","auto")}M.css("height","auto");if(t&&t.length){A.show()}if(G.showCloseButton){J.show()}g();if(G.hideOnContentClick){m.bind("click",B.fancybox.close)}if(G.hideOnOverlayClick){Q.bind("click",B.fancybox.close)}B(window).bind("resize.fb",B.fancybox.resize);if(G.centerOnScroll){B(window).bind("scroll.fb",B.fancybox.center)}if(G.type=="iframe"){B('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" '+(navigator.userAgent.match(/msie [6]/i)?'allowtransparency="true""':"")+' scrolling="'+H.scrolling+'" src="'+G.href+'"></iframe>').appendTo(m)}M.show();P=false;B.fancybox.center();G.onComplete(y,e,G);K()},K=function(){var W,X;if((y.length-1)>e){W=y[e+1].href;if(typeof W!=="undefined"&&W.match(i)){X=new Image();X.src=W}}if(e>0){W=y[e-1].href;if(typeof W!=="undefined"&&W.match(i)){X=new Image();X.src=W}}},U=function(X){var W={width:parseInt(b.width+(c.width-b.width)*X,10),height:parseInt(b.height+(c.height-b.height)*X,10),top:parseInt(b.top+(c.top-b.top)*X,10),left:parseInt(b.left+(c.left-b.left)*X,10)};if(typeof c.opacity!=="undefined"){W.opacity=X<0.5?0.5:X}M.css(W);m.css({width:W.width-G.padding*2,height:W.height-(h*X)-G.padding*2})},u=function(){if((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))){var X,W;if(typeof window.innerWidth!="undefined"){X=window.innerWidth;W=window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){X=document.documentElement.clientWidth;W=document.documentElement.clientHeight}else{X=document.getElementsByTagName("body")[0].clientWidth;W=document.getElementsByTagName("body")[0].clientHeight}}return[X,W,B(document).scrollLeft(),B(document).scrollTop()]}else{return[B(window).width()-(G.margin*2),B(window).height()-(G.margin*2),B(document).scrollLeft()+G.margin,B(document).scrollTop()+G.margin]}},R=function(){var W=u(),aa={},X=G.autoScale,Y=G.padding*2,Z;if(G.width.toString().indexOf("%")>-1){aa.width=parseInt((W[0]*parseFloat(G.width))/100,10)}else{aa.width=G.width+Y}if(G.height.toString().indexOf("%")>-1){aa.height=parseInt((W[1]*parseFloat(G.height))/100,10)}else{aa.height=G.height+Y}if(X&&(aa.width>W[0]||aa.height>W[1])){if(H.type=="image"||H.type=="swf"){Z=(G.width)/(G.height);if((aa.width)>W[0]){aa.width=W[0];aa.height=parseInt(((aa.width-Y)/Z)+Y,10)}if((aa.height)>W[1]){aa.height=W[1];aa.width=parseInt(((aa.height-Y)*Z)+Y,10)}}else{aa.width=Math.min(aa.width,W[0]);aa.height=Math.min(aa.height,W[1])}}aa.top=parseInt(Math.max(W[3]-20,W[3]+((W[1]-aa.height-40)*0.5)),10);aa.left=parseInt(Math.max(W[2]-20,W[2]+((W[0]-aa.width-40)*0.5)),10);return aa},q=function(W){var X=W.offset();X.top+=parseInt(W.css("paddingTop"),10)||0;X.left+=parseInt(W.css("paddingLeft"),10)||0;X.top+=parseInt(W.css("border-top-width"),10)||0;X.left+=parseInt(W.css("border-left-width"),10)||0;X.width=W.width();X.height=W.height();return X},I=function(){var Z=H.orig?B(H.orig):false,Y={},X,W;if(Z&&Z.length){X=q(Z);Y={width:X.width+(G.padding*2),height:X.height+(G.padding*2),top:X.top-G.padding-20,left:X.left-G.padding-20}}else{W=u();Y={width:G.padding*2,height:G.padding*2,top:parseInt(W[3]+W[1]*0.5,10),left:parseInt(W[2]+W[0]*0.5,10)}}return Y},a=function(){if(!T.is(":visible")){clearInterval(p);return}B("div",T).css("top",(N*-40)+"px");N=(N+1)%12};B.fn.fancybox=function(W){if(!B(this).length){return this}B(this).data("fancybox",B.extend({},W,(B.metadata?B(this).metadata():{}))).unbind("click.fb").bind("click.fb",function(Y){Y.preventDefault();if(P){return}P=true;B(this).blur();j=[];C=0;var X=B(this).attr("rel")||"";if(!X||X==""||X==="nofollow"){j.push(this)}else{j=B("a[rel="+X+"], area[rel="+X+"], img[rel="+X+"]");C=j.index(this)}w();return});return this};B.fancybox=function(Z){var Y;if(P){return}P=true;Y=typeof arguments[1]!=="undefined"?arguments[1]:{};j=[];C=parseInt(Y.index,10)||0;if(B.isArray(Z)){for(var X=0,W=Z.length;X<W;X++){if(typeof Z[X]=="object"){B(Z[X]).data("fancybox",B.extend({},Y,Z[X]))}else{Z[X]=B({}).data("fancybox",B.extend({content:Z[X]},Y))}}j=jQuery.merge(j,Z)}else{if(typeof Z=="object"){B(Z).data("fancybox",B.extend({},Y,Z))}else{Z=B({}).data("fancybox",B.extend({content:Z},Y))}j.push(Z)}if(C>j.length||C<0){C=0}w()};B.fancybox.showActivity=function(){clearInterval(p);T.show();p=setInterval(a,66)};B.fancybox.hideActivity=function(){T.hide()};B.fancybox.next=function(){return B.fancybox.pos(e+1)};B.fancybox.prev=function(){return B.fancybox.pos(e-1)};B.fancybox.pos=function(W){if(P){return}W=parseInt(W);j=y;if(W>-1&&W<y.length){C=W;w()}else{if(G.cyclic&&y.length>1){C=W>=y.length?0:y.length-1;w()}}return};B.fancybox.cancel=function(){if(P){return}P=true;B.event.trigger("fancybox-cancel");r();H.onCancel(j,C,H);P=false};B.fancybox.close=function(){if(P||M.is(":hidden")){return}P=true;if(G&&false===G.onCleanup(y,e,G)){P=false;return}r();B(J.add(O).add(z)).hide();B(m.add(Q)).unbind();B(window).unbind("resize.fb scroll.fb");B(document).unbind("keydown.fb");m.find("iframe").attr("src",S&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");if(G.titlePosition!=="inside"){A.empty()}M.stop();function W(){Q.fadeOut("fast");A.empty().hide();M.hide();B.event.trigger("fancybox-cleanup");if(V){V.find(".fancybox-inline-tmp").replaceWith(m.children().children())}m.empty();G.onClosed(y,e,G);y=H=[];e=C=0;G=H={};P=false}if(G.transitionOut=="elastic"){b=I();var X=M.position();c={top:X.top,left:X.left,width:M.width(),height:M.height()};if(G.opacity){c.opacity=1}A.empty().hide();s.prop=1;B(s).animate({prop:0},{duration:G.speedOut,easing:G.easingOut,step:U,complete:W})}else{M.fadeOut(G.transitionOut=="none"?0:G.speedOut,W)}};B.fancybox.resize=function(){if(Q.is(":visible")){Q.css("height",B(document).height())}B.fancybox.center(true)};B.fancybox.center=function(){var W,X;if(P){return}X=arguments[0]===true?1:0;W=u();if(!X&&(M.width()>W[0]||M.height()>W[1])){return}M.stop().animate({top:parseInt(Math.max(W[3]-20,W[3]+((W[1]-m.height()-40)*0.5)-G.padding)),left:parseInt(Math.max(W[2]-20,W[2]+((W[0]-m.width()-40)*0.5)-G.padding))},typeof arguments[0]=="number"?arguments[0]:200)};B.fancybox.init=function(){if(B("#fancybox-wrap").length){return}B("body").append(L=B('<div id="fancybox-tmp"></div>'),T=B('<div id="fancybox-loading"><div></div></div>'),Q=B('<div id="fancybox-overlay"></div>'),M=B('<div id="fancybox-wrap"></div>'));d=B('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(M);d.append(m=B('<div id="fancybox-content"></div>'),J=B('<a id="fancybox-close"></a>'),A=B('<div id="fancybox-title"></div>'),O=B('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),z=B('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));J.click(B.fancybox.close);T.click(B.fancybox.cancel);O.click(function(W){W.preventDefault();B.fancybox.prev()});z.click(function(W){W.preventDefault();B.fancybox.next()});if(B.fn.mousewheel){M.bind("mousewheel.fb",function(W,X){if(P){W.preventDefault()}else{if(B(W.target).get(0).clientHeight==0||B(W.target).get(0).scrollHeight===B(W.target).get(0).clientHeight){W.preventDefault();B.fancybox[X>0?"prev":"next"]()}}})}if(!B.support.opacity){M.addClass("fancybox-ie")}if(S){T.addClass("fancybox-ie6");M.addClass("fancybox-ie6");B('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(d)}};B.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};B(document).ready(function(){B.fancybox.init()})})(jQuery);