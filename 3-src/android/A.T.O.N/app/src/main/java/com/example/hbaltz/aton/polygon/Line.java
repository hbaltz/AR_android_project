package com.example.hbaltz.aton.polygon;

/**
 * Line is defined by starting point and ending point on 2D dimension.<br>
 */
public class Line
{
	////////////////////////////////////////////////////////////////////////////////////////////////
	///////////////////////////////////////// FIELDS: //////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	private final Point _start;
	private final Point _end;
	private float _a = Float.NaN;
	private float _b = Float.NaN;
	private boolean _vertical = false;
	private float _height = 0;

	////////////////////////////////////////////////////////////////////////////////////////////////
	///////////////////////////////////////// CONSTRUCTORS: ////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	public Line(Point start, Point end)
	{
		_start = start;
		_end = end;

        _height = (float) Math.sqrt(Math.pow(_end.x - _start.x, 2)+Math.pow(_end.y - _start.y, 2));

		if (_end.x - _start.x != 0)
		{
			_a = ((_end.y - _start.y) / (_end.x - _start.x));
			_b = _start.y - _a * _start.x;
		}

		else
		{
			_vertical = true;
		}
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	///////////////////////////////////////// METHODS: /////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	/**
	 * Indicate whereas the point lays on the line.
	 * 
	 * @param point
	 *            - The point to check
	 * @return <code>True</code> if the point lays on the line, otherwise return <code>False</code>
	 */
	public boolean isInside(Point point)
	{
		float maxX = _start.x > _end.x ? _start.x : _end.x;
		float minX = _start.x < _end.x ? _start.x : _end.x;
		float maxY = _start.y > _end.y ? _start.y : _end.y;
		float minY = _start.y < _end.y ? _start.y : _end.y;

		if ((point.x >= minX && point.x <= maxX) && (point.y >= minY && point.y <= maxY))
		{
			return true;
		}
		return false;
	}

	////////////////////////////////////////////////////////////////////////////////////////////////
	///////////////////////////////////////// SETTERS: /////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////


	public void setA(float _a) {
		this._a = _a;
	}

	public void setB(float _b) {
		this._b = _b;
	}

	public void setVertical(boolean _vertical) {
		this._vertical = _vertical;
	}

	public void setHeight(float height) {
		this._height = height;
	}


	////////////////////////////////////////////////////////////////////////////////////////////////
	///////////////////////////////////////// GETTERS: /////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	/**
	 * Indicate whereas the line is vertical. <br>
	 * For example, line like x=1 is vertical, in other words parallel to axis Y. <br>
	 * In this case the A is (+/-)infinite.
	 * 
	 * @return <code>True</code> if the line is vertical, otherwise return <code>False</code>
	 */
	public boolean isVertical()
	{
		return _vertical;
	}

    ////////////////////////////////////////////////////////////////////////////////////////////////

	/**
	 * y = <b>A</b>x + B
	 * 
	 * @return The <b>A</b>
	 */
	public float getA()
	{
		return _a;
	}

    ////////////////////////////////////////////////////////////////////////////////////////////////

	/**
	 * y = Ax + <b>B</b>
	 * 
	 * @return The <b>B</b>
	 */
	public float getB()
	{
		return _b;
	}

    ////////////////////////////////////////////////////////////////////////////////////////////////

	/**
	 * Get start point
	 * 
	 * @return The start point
	 */
	public Point getStart()
	{
		return _start;
	}

    ////////////////////////////////////////////////////////////////////////////////////////////////

	/**
	 * Get end point
	 * 
	 * @return The end point
	 */
	public Point getEnd()
	{
		return _end;
	}

    ////////////////////////////////////////////////////////////////////////////////////////////////

    /**
     * Get the height of the line
     *
     * @return the height of the line
     */
    public float getHeight() {
        return this._height;
    }

    ////////////////////////////////////////////////////////////////////////////////////////////////
	///////////////////////////////////////// FUNCTIONS: ///////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////////////

	@Override
	public String toString()
	{
		return String.format("%s-%s", _start.toString(), _end.toString());
	}
}
